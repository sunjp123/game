{"map":"{\"version\":3,\"sources\":[\"/Applications/work/game/config/constConfig.js\",\"/Applications/work/game/static/index.js\",\"/Applications/work/game/static/public/socket.js\"],\"names\":[\"exports\",\"REDIS_MESSAGE\",\"SHARE_MESSAGE\",\"KEY\",\"EVENT\",\"CONTENT\",\"HAPPY_RECORD\",\"HOST_URL\",\"GAME_MESSAGE\",\"GAME_INIT\",\"REDIS_READY\",\"GAME_SELECT_ROLE\",\"__webpack_require__\",\"_constConfig\",\"socketServer\",\"SocketServer\",\"events\",\"connect\",\"_defineProperty\",\"_events\",\"message\",\"key\",\"value\",\"arguments\",\"length\",\"undefined\",\"name\",\"number\",\"window\",\"__GAME_NUMBER__\",\"uid\",\"__USER_ID__\",\"client\",\"emit\",\"_extends\",\"send\",\"console\",\"log\",\"onload\",\"stats\",\"Stats\",\"setMode\",\"domElement\",\"style\",\"position\",\"left\",\"top\",\"document\",\"getElementById\",\"appendChild\",\"initStats\",\"scene\",\"THREE\",\"Scene\",\"camera\",\"PerspectiveCamera\",\"innerWidth\",\"innerHeight\",\"add\",\"renderer\",\"WebGLRenderer\",\"setClearColor\",\"Color\",\"setSize\",\"shadowMapEnabled\",\"plane\",\"geom\",\"meshMaterial\",\"MeshLambertMaterial\",\"color\",\"side\",\"DoubleSide\",\"wireFrameMat\",\"MeshBasicMaterial\",\"wireframe\",\"SceneUtils\",\"createMultiMaterialObject\",\"createMesh\",\"BoxGeometry\",\"receiveShadow\",\"rotation\",\"x\",\"Math\",\"PI\",\"y\",\"z\",\"lookAt\",\"ambientLight\",\"AmbientLight\",\"spotLight\",\"SpotLight\",\"set\",\"castShadow\",\"render\",\"update\",\"traverse\",\"e\",\"Mesh\",\"controls\",\"rotationSpeed\",\"requestAnimationFrame\",\"SokcetServer\",\"_ref\",\"_classCallCheck\",\"this\",\"socketClient\",\"addEvent\",\"_this\",\"Object\",\"entries\",\"map\",\"event\",\"on\",\"apply\"],\"mappings\":\"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\",\"sourcesContent\":[\"const REDIS_MESSAGE = {\\n    SHARE_MESSAGE:{\\n        KEY:'SHARE_MESSAGE_KEY',\\n        EVENT:'SHARE_MESSAGE_EVENT',\\n        CONTENT:'%USER% %OPERATE% %CONTENT%'\\n    }\\n}\\n\\nexports.REDIS_MESSAGE = REDIS_MESSAGE\\n\\nconst HAPPY_RECORD = {\\n    HOST_URL:'http://localhost:3001'\\n}\\n\\nexports.HAPPY_RECORD = HAPPY_RECORD\\n\\n\\nexports.GAME_MESSAGE = {\\n    GAME_INIT:'GAME_INIT',\\n    REDIS_READY:'REDIS_READY',\\n    GAME_SELECT_ROLE:'GAME_SELECT_ROLE'\\n}\",\"import SocketServer from \\\"./public/socket\\\"\\nimport { GAME_MESSAGE } from \\\"../config/constConfig\\\"\\nconst send = (key,value={})=>{\\n  let message = {name:'wuziqi',number:window.__GAME_NUMBER__,uid:window.__USER_ID__}\\n  socketServer.client.emit(key,{...message,...value})\\n}\\nconst socketServer = new SocketServer({\\n  events:{\\n    'connect':()=>{\\n    },\\n    [GAME_MESSAGE.REDIS_READY]:(message)=>{\\n      send(GAME_MESSAGE.GAME_INIT)\\n    },\\n    [GAME_MESSAGE.GAME_INIT]:(message)=>{\\n      console.log('init'+message)\\n    },\\n    [GAME_MESSAGE.GAME_SELECT_ROLE]:(message)=>{\\n      console.log(message)\\n    }\\n  }\\n});\\n\\n\\nfunction init() {\\n\\n  var stats = initStats();\\n\\n  // create a scene, that will hold all our elements such as objects, cameras and lights.\\n  var scene = new THREE.Scene();\\n\\n  // create a camera, which defines where we're looking at.\\n  var camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);\\n  scene.add(camera);\\n\\n  // create a render and set the size\\n  var renderer = new THREE.WebGLRenderer();\\n\\n  renderer.setClearColor(new THREE.Color(0xEEEEEE, 1.0));\\n  renderer.setSize(window.innerWidth, window.innerHeight);\\n  renderer.shadowMapEnabled = true;\\n\\n  // create the ground plane\\n  var planeGeometry = new THREE.BoxGeometry(4, 4, 1, 1);\\n  var plane = createMesh(planeGeometry);\\n  // var plane = new THREE.Mesh(planeGeometry, planeMaterial);\\n  plane.receiveShadow = true;\\n\\n  // rotate and position the plane\\n  plane.rotation.x = 0.5 * Math.PI;\\n  plane.position.x = 0;\\n  plane.position.y = 0;\\n  plane.position.z = 0;\\n\\n  // add the plane to the scene\\n  scene.add(plane);\\n\\n  // position and point the camera to the center of the scene\\n  camera.position.x = 0;\\n  camera.position.y = -20;\\n  camera.position.z = 10;\\n  camera.lookAt(plane.position);\\n\\n  // add subtle ambient lighting\\n  var ambientLight = new THREE.AmbientLight(0x0c0c0c);\\n  scene.add(ambientLight);\\n\\n  // add spotlight for the shadows\\n  var spotLight = new THREE.SpotLight(0xffffff);\\n  spotLight.position.set(-40, 60, -10);\\n  spotLight.castShadow = true;\\n  scene.add(spotLight);\\n\\n  // add the output of the renderer to the html element\\n  document.getElementById(\\\"WebGL-output\\\").appendChild(renderer.domElement);\\n\\n  render();\\n  function createMesh(geom) {\\n\\n      // assign two materials\\n      var meshMaterial = new THREE.MeshLambertMaterial({color: 0xffffff});\\n      meshMaterial.side = THREE.DoubleSide;\\n      var wireFrameMat = new THREE.MeshBasicMaterial();\\n      wireFrameMat.wireframe = true;\\n\\n      // create a multimaterial\\n      var mesh = THREE.SceneUtils.createMultiMaterialObject(geom, [meshMaterial, wireFrameMat]);\\n\\n      return mesh;\\n  }\\n  function render() {\\n      stats.update();\\n\\n      // rotate the cubes around its axes\\n      scene.traverse(function (e) {\\n          if (e instanceof THREE.Mesh && e != plane) {\\n\\n              e.rotation.x += controls.rotationSpeed;\\n              e.rotation.y += controls.rotationSpeed;\\n              e.rotation.z += controls.rotationSpeed;\\n          }\\n      });\\n\\n      // render using requestAnimationFrame\\n      requestAnimationFrame(render);\\n      renderer.render(scene, camera);\\n  }\\n\\n  function initStats() {\\n\\n      var stats = new Stats();\\n\\n      stats.setMode(0); // 0: fps, 1: ms\\n\\n      // Align top-left\\n      stats.domElement.style.position = 'absolute';\\n      stats.domElement.style.left = '0px';\\n      stats.domElement.style.top = '0px';\\n\\n      document.getElementById(\\\"Stats-output\\\").appendChild(stats.domElement);\\n\\n      return stats;\\n  }\\n}\\nwindow.onload = init\\n\\n\\n\",\"import socketClient from 'socket.io-client';\\n\\nexport default class SokcetServer {\\n    constructor({events}){\\n        this.client = new socketClient()\\n        if(!this.client){\\n            return null\\n        }\\n        if(events){\\n            this.addEvent(events)\\n        }\\n    }\\n    addEvent(events){\\n        try{\\n            Object.entries(events).map(event =>{\\n                this.client.on.apply(this.client,event)\\n            })\\n        }catch(e){\\n            throw 'add events error'\\n        }\\n        \\n    }\\n\\n}\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"main\"],{\"./config/constConfig.js\":\n/*!*******************************!*\\\n  !*** ./config/constConfig.js ***!\n  \\*******************************/\n/*! no static exports found */function(e,n){n.REDIS_MESSAGE={SHARE_MESSAGE:{KEY:\"SHARE_MESSAGE_KEY\",EVENT:\"SHARE_MESSAGE_EVENT\",CONTENT:\"%USER% %OPERATE% %CONTENT%\"}};n.HAPPY_RECORD={HOST_URL:\"http://localhost:3001\"},n.GAME_MESSAGE={GAME_INIT:\"GAME_INIT\",REDIS_READY:\"REDIS_READY\",GAME_SELECT_ROLE:\"GAME_SELECT_ROLE\"}},\"./static/index.js\":\n/*!*************************!*\\\n  !*** ./static/index.js ***!\n  \\*************************/\n/*! no static exports found */function(e,n,t){\"use strict\";var o,i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},r=function(e){return e&&e.__esModule?e:{default:e}}(t(/*! ./public/socket */\"./static/public/socket.js\")),a=t(/*! ../config/constConfig */\"./config/constConfig.js\");function E(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var c=new r.default({events:(o={connect:function(){}},E(o,a.GAME_MESSAGE.REDIS_READY,function(e){!function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={name:\"wuziqi\",number:window.__GAME_NUMBER__,uid:window.__USER_ID__};c.client.emit(e,i({},t,n))}(a.GAME_MESSAGE.GAME_INIT)}),E(o,a.GAME_MESSAGE.GAME_INIT,function(e){console.log(\"init\"+e)}),E(o,a.GAME_MESSAGE.GAME_SELECT_ROLE,function(e){console.log(e)}),o)});window.onload=function(){var e=function(){var e=new Stats;return e.setMode(0),e.domElement.style.position=\"absolute\",e.domElement.style.left=\"0px\",e.domElement.style.top=\"0px\",document.getElementById(\"Stats-output\").appendChild(e.domElement),e}(),n=new THREE.Scene,t=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,.1,1e3);n.add(t);var o=new THREE.WebGLRenderer;o.setClearColor(new THREE.Color(15658734,1)),o.setSize(window.innerWidth,window.innerHeight),o.shadowMapEnabled=!0;var i=function(e){var n=new THREE.MeshLambertMaterial({color:16777215});n.side=THREE.DoubleSide;var t=new THREE.MeshBasicMaterial;return t.wireframe=!0,THREE.SceneUtils.createMultiMaterialObject(e,[n,t])}(new THREE.BoxGeometry(4,4,1,1));i.receiveShadow=!0,i.rotation.x=.5*Math.PI,i.position.x=0,i.position.y=0,i.position.z=0,n.add(i),t.position.x=0,t.position.y=-20,t.position.z=10,t.lookAt(i.position);var r=new THREE.AmbientLight(789516);n.add(r);var a=new THREE.SpotLight(16777215);a.position.set(-40,60,-10),a.castShadow=!0,n.add(a),document.getElementById(\"WebGL-output\").appendChild(o.domElement),function r(){e.update(),n.traverse(function(e){e instanceof THREE.Mesh&&e!=i&&(e.rotation.x+=controls.rotationSpeed,e.rotation.y+=controls.rotationSpeed,e.rotation.z+=controls.rotationSpeed)}),requestAnimationFrame(r),o.render(n,t)}()}},\"./static/public/socket.js\":\n/*!*********************************!*\\\n  !*** ./static/public/socket.js ***!\n  \\*********************************/\n/*! no static exports found */function(e,n,t){\"use strict\";Object.defineProperty(n,\"__esModule\",{value:!0});var o=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(t(/*! socket.io-client */\"./node_modules/socket.io-client/lib/index.js\"));var r=function(){function e(n){var t=n.events;if(function(e,n){if(!(e instanceof n))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.client=new i.default,!this.client)return null;t&&this.addEvent(t)}return o(e,[{key:\"addEvent\",value:function(e){var n=this;try{Object.entries(e).map(function(e){n.client.on.apply(n.client,e)})}catch(e){throw\"add events error\"}}}]),e}();n.default=r},0:\n/*!********************!*\\\n  !*** ws (ignored) ***!\n  \\********************/\n/*! no static exports found */function(e,n){}},[[\"./static/index.js\",\"manifest\",\"chunk-vendor\"]]]);","extractedComments":[]}