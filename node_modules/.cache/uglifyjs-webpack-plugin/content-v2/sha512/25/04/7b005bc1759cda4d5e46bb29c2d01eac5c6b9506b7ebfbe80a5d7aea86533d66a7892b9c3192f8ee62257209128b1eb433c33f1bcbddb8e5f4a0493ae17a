{"map":"{\"version\":3,\"sources\":[\"/Applications/work/game/config/constConfig.js\",\"/Applications/work/game/static/index.js\",\"/Applications/work/game/static/public/socket.js\"],\"names\":[\"exports\",\"REDIS_MESSAGE\",\"SHARE_MESSAGE\",\"KEY\",\"EVENT\",\"CONTENT\",\"HAPPY_RECORD\",\"HOST_URL\",\"GAME_MESSAGE\",\"GAME_INIT\",\"REDIS_READY\",\"GAME_SELECT_ROLE\",\"__webpack_require__\",\"_constConfig\",\"socketServer\",\"SocketServer\",\"events\",\"connect\",\"_defineProperty\",\"_events\",\"message\",\"key\",\"arguments\",\"length\",\"undefined\",\"window\",\"__GAME_NUMBER__\",\"__USER_ID__\",\"client\",\"emit\",\"send\",\"console\",\"log\",\"name\",\"number\",\"uid\",\"role\",\"SokcetServer\",\"_ref\",\"_classCallCheck\",\"this\",\"socketClient\",\"addEvent\",\"_this\",\"Object\",\"entries\",\"map\",\"event\",\"on\",\"apply\",\"e\"],\"mappings\":\";;;;4CAQAA,EAAAC,eAPAC,eACAC,IAAA,oBACAC,MAAA,sBACAC,QAAA,+BAUAL,EAAAM,cAHAC,SAAA,yBAMAP,EAAAQ,cACAC,UAAA,YACAC,YAAA,cACAC,iBAAA;;;;qHCpBAC,wBAAA,8BACAC,EAAAD,8BAAA,mJACA,IAIME,EAAe,IAAIC,EAAAA,SACvBC,QAAAA,GACEC,QAAU,cADZC,EAAAC,EAGGX,EAAAA,aAAaE,YAAa,SAACU,IARnB,SAACC,GAAeC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GACSG,OAAOC,gBAAoBD,OAAOE,YACtEb,EAAac,OAAOC,KAAKR,GAOrBS,CAAKtB,EAAAA,aAAaC,WAClBsB,QAAQC,IAAIZ,KALhBF,EAAAC,EAOGX,EAAAA,aAAaC,UAAW,SAACW,GACxBW,QAAQC,IAAI,OAAOZ,GACnBN,EAAac,OAAOC,KAAKrB,EAAAA,aAAaG,kBAAkBsB,KAAK,SAASC,OAAOT,OAAOC,gBAAgBS,IAAIV,OAAOE,YAAYS,KAAK,cATpIlB,EAAAC,EAWGX,EAAAA,aAAaG,iBAAkB,SAACS,GAC/BW,QAAQC,IAAIZ,KAZhBD;;;;yZCPFP,yBAAA,qDAEqByB,aACjB,SAAAA,EAAAC,GAAqB,IAARtB,EAAQsB,EAARtB,OAET,+FAFiBuB,CAAAC,KAAAH,GACjBG,KAAKZ,OAAS,IAAIa,EAAAA,SACdD,KAAKZ,OACL,OAAO,KAERZ,GACCwB,KAAKE,SAAS1B,8CAGbA,GAAO,IAAA2B,EAAAH,KACZ,IACII,OAAOC,QAAQ7B,GAAQ8B,IAAI,SAAAC,GACvBJ,EAAKf,OAAOoB,GAAGC,MAAMN,EAAKf,OAAOmB,KAExC,MAAMG,GACH,KAAM,uCAhBGb\",\"sourcesContent\":[\"const REDIS_MESSAGE = {\\n    SHARE_MESSAGE:{\\n        KEY:'SHARE_MESSAGE_KEY',\\n        EVENT:'SHARE_MESSAGE_EVENT',\\n        CONTENT:'%USER% %OPERATE% %CONTENT%'\\n    }\\n}\\n\\nexports.REDIS_MESSAGE = REDIS_MESSAGE\\n\\nconst HAPPY_RECORD = {\\n    HOST_URL:'http://localhost:3001'\\n}\\n\\nexports.HAPPY_RECORD = HAPPY_RECORD\\n\\n\\nexports.GAME_MESSAGE = {\\n    GAME_INIT:'GAME_INIT',\\n    REDIS_READY:'REDIS_READY',\\n    GAME_SELECT_ROLE:'GAME_SELECT_ROLE'\\n}\",\"import SocketServer from \\\"./public/socket\\\"\\nimport { GAME_MESSAGE } from \\\"../config/constConfig\\\"\\nconst send = (key,value={})=>{\\n  let message = {name:'wuziqi',number:window.__GAME_NUMBER__,uid:window.__USER_ID__}\\n  socketServer.client.emit(key,)\\n}\\nconst socketServer = new SocketServer({\\n  events:{\\n    'connect':()=>{\\n    },\\n    [GAME_MESSAGE.REDIS_READY]:(message)=>{\\n      send(GAME_MESSAGE.GAME_INIT)\\n      console.log(message)\\n    },\\n    [GAME_MESSAGE.GAME_INIT]:(message)=>{\\n      console.log('init'+message)\\n      socketServer.client.emit(GAME_MESSAGE.GAME_SELECT_ROLE,{name:'wuziqi',number:window.__GAME_NUMBER__,uid:window.__USER_ID__,role:'playerA'})\\n    },\\n    [GAME_MESSAGE.GAME_SELECT_ROLE]:(message)=>{\\n      console.log(message)\\n    }\\n  }\\n});\\n\\n\\n\\n\",\"import socketClient from 'socket.io-client';\\n\\nexport default class SokcetServer {\\n    constructor({events}){\\n        this.client = new socketClient()\\n        if(!this.client){\\n            return null\\n        }\\n        if(events){\\n            this.addEvent(events)\\n        }\\n    }\\n    addEvent(events){\\n        try{\\n            Object.entries(events).map(event =>{\\n                this.client.on.apply(this.client,event)\\n            })\\n        }catch(e){\\n            throw 'add events error'\\n        }\\n        \\n    }\\n\\n}\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"main\"],{\"./config/constConfig.js\":\n/*!*******************************!*\\\n  !*** ./config/constConfig.js ***!\n  \\*******************************/\n/*! no static exports found */function(n,e){e.REDIS_MESSAGE={SHARE_MESSAGE:{KEY:\"SHARE_MESSAGE_KEY\",EVENT:\"SHARE_MESSAGE_EVENT\",CONTENT:\"%USER% %OPERATE% %CONTENT%\"}};e.HAPPY_RECORD={HOST_URL:\"http://localhost:3001\"},e.GAME_MESSAGE={GAME_INIT:\"GAME_INIT\",REDIS_READY:\"REDIS_READY\",GAME_SELECT_ROLE:\"GAME_SELECT_ROLE\"}},\"./static/index.js\":\n/*!*************************!*\\\n  !*** ./static/index.js ***!\n  \\*************************/\n/*! no static exports found */function(n,e,t){\"use strict\";var i,E=function(n){return n&&n.__esModule?n:{default:n}}(t(/*! ./public/socket */\"./static/public/socket.js\")),o=t(/*! ../config/constConfig */\"./config/constConfig.js\");function c(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var u=new E.default({events:(i={connect:function(){}},c(i,o.GAME_MESSAGE.REDIS_READY,function(n){!function(n){arguments.length>1&&void 0!==arguments[1]&&arguments[1],window.__GAME_NUMBER__,window.__USER_ID__;u.client.emit(n)}(o.GAME_MESSAGE.GAME_INIT),console.log(n)}),c(i,o.GAME_MESSAGE.GAME_INIT,function(n){console.log(\"init\"+n),u.client.emit(o.GAME_MESSAGE.GAME_SELECT_ROLE,{name:\"wuziqi\",number:window.__GAME_NUMBER__,uid:window.__USER_ID__,role:\"playerA\"})}),c(i,o.GAME_MESSAGE.GAME_SELECT_ROLE,function(n){console.log(n)}),i)})},\"./static/public/socket.js\":\n/*!*********************************!*\\\n  !*** ./static/public/socket.js ***!\n  \\*********************************/\n/*! no static exports found */function(n,e,t){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var i=function(){function n(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),E=function(n){return n&&n.__esModule?n:{default:n}}(t(/*! socket.io-client */\"./node_modules/socket.io-client/lib/index.js\"));var o=function(){function n(e){var t=e.events;if(function(n,e){if(!(n instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,n),this.client=new E.default,!this.client)return null;t&&this.addEvent(t)}return i(n,[{key:\"addEvent\",value:function(n){var e=this;try{Object.entries(n).map(function(n){e.client.on.apply(e.client,n)})}catch(n){throw\"add events error\"}}}]),n}();e.default=o},0:\n/*!********************!*\\\n  !*** ws (ignored) ***!\n  \\********************/\n/*! no static exports found */function(n,e){}},[[\"./static/index.js\",\"manifest\",\"chunk-vendor\"]]]);","extractedComments":[]}